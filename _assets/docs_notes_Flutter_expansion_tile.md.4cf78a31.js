import{g as n,f as s,G as a}from"./common-bec3f312.js";const t='{"title":"基于ExpansionTile实现可展开的列表","frontmatter":{"date":"2022-04-13","title":"基于ExpansionTile实现可展开的列表","tags":["Flutter"],"describe":null},"headers":[{"level":2,"title":"基于ExpansionTile实现可展开的列表","slug":"基于expansiontile实现可展开的列表"},{"level":2,"title":"认识ExpansionTile","slug":"认识expansiontile"},{"level":2,"title":"如何实现可折叠的列表？","slug":"如何实现可折叠的列表？"}],"relativePath":"docs/notes/Flutter/expansion_tile.md","lastUpdated":1660147426756.5005}';var p={};const o=a('<h2 id="基于expansiontile实现可展开的列表"><a class="header-anchor" href="#基于expansiontile实现可展开的列表" aria-hidden="true">#</a> 基于ExpansionTile实现可展开的列表</h2><h2 id="认识expansiontile"><a class="header-anchor" href="#认识expansiontile" aria-hidden="true">#</a> 认识ExpansionTile</h2><div class="language-dart"><pre><code><span class="token keyword">const</span> <span class="token function">ExpansionTile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n    Key key<span class="token punctuation">,</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>leading<span class="token punctuation">,</span><span class="token comment">//标题左侧要展示的widget</span>\n    <span class="token metadata symbol">@required</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span><span class="token comment">//要展示的标题widget</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span><span class="token comment">//背景</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>onExpansionChanged<span class="token punctuation">,</span><span class="token comment">//列表展开收起的回调函数</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token comment">//列表展开时显示的widget</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>trailing<span class="token punctuation">,</span><span class="token comment">//标题有侧要展示的widget</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>initiallyExpanded <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否默认状态下展开</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span>\n</code></pre></div><h2 id="如何实现可折叠的列表？"><a class="header-anchor" href="#如何实现可折叠的列表？" aria-hidden="true">#</a> 如何实现可折叠的列表？</h2><ul><li>数据要求</li><li><code>ExpansionTile</code></li></ul><div class="language-dart"><pre><code><span class="token keyword">import</span> <span class="token string">&#39;package:flutter/material.dart&#39;</span><span class="token punctuation">;</span>\n\n<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token function">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> CITY_NAMES <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token string">&#39;北京&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;东城区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;西城区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;朝阳区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;丰台区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;石景山区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;海淀区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;顺义区&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;上海&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;黄浦区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;徐汇区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;长宁区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;静安区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;普陀区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;闸北区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;虹口区&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;广州&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;越秀&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;海珠&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;荔湾&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;天河&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;白云&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;黄埔&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;南沙&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;番禺&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;深圳&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;南山&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;福田&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;罗湖&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;盐田&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;龙岗&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;宝安&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;龙华&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;杭州&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;上城区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;下城区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;江干区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;拱墅区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;西湖区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;滨江区&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">&#39;苏州&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&#39;姑苏区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;吴中区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;相城区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;高新区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;虎丘区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;工业园区&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;吴江区&#39;</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>\n  <span class="token metadata symbol">@override</span>\n  Widget <span class="token function">build</span><span class="token punctuation">(</span>BuildContext context<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">final</span> title <span class="token operator">=</span> <span class="token string">&#39;列表展开与收起&#39;</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token function">MaterialApp</span><span class="token punctuation">(</span>\n      title<span class="token punctuation">:</span> title<span class="token punctuation">,</span>\n      home<span class="token punctuation">:</span> <span class="token function">Scaffold</span><span class="token punctuation">(</span>\n        appBar<span class="token punctuation">:</span> <span class="token function">AppBar</span><span class="token punctuation">(</span>\n          title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        body<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span>\n          child<span class="token punctuation">:</span> <span class="token function">ListView</span><span class="token punctuation">(</span>\n            children<span class="token punctuation">:</span> <span class="token function">_buildList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          <span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  List<span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span> <span class="token function">_buildList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    List<span class="token operator">&lt;</span>Widget<span class="token operator">&gt;</span> widgets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n    CITY_NAMES<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      widgets<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">_item</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> CITY_NAMES<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> widgets<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  Widget <span class="token function">_item</span><span class="token punctuation">(</span>String city<span class="token punctuation">,</span> List<span class="token operator">&lt;</span>String<span class="token operator">&gt;</span> subCities<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">ExpansionTile</span><span class="token punctuation">(</span>\n      title<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>\n        city<span class="token punctuation">,</span>\n        style<span class="token punctuation">:</span> <span class="token function">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>black54<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n      <span class="token punctuation">)</span><span class="token punctuation">,</span>\n      children<span class="token punctuation">:</span> subCities<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>subCity<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_buildSub</span><span class="token punctuation">(</span>subCity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  Widget <span class="token function">_buildSub</span><span class="token punctuation">(</span>String subCity<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">FractionallySizedBox</span><span class="token punctuation">(</span>\n        widthFactor<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n        child<span class="token punctuation">:</span> <span class="token function">Container</span><span class="token punctuation">(</span>\n          height<span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>\n          margin<span class="token punctuation">:</span> EdgeInsets<span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n          decoration<span class="token punctuation">:</span> <span class="token function">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> Colors<span class="token punctuation">.</span>lightBlueAccent<span class="token punctuation">)</span><span class="token punctuation">,</span>\n          child<span class="token punctuation">:</span> <span class="token function">Text</span><span class="token punctuation">(</span>subCity<span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p><img src="https://oss.filway.cn/filway-blog/point.gif" alt="point"><img src="" alt="point"></p>',7);p.render=function(a,t,p,c,e,u){return s(),n("div",null,[o])};export default p;export{t as __pageData};
